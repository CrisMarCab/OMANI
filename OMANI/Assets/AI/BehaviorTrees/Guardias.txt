<behaviortree version="1.1" repeatuntil="" name="Guardias" debugbreak="False"><selector usepriorities="False" repeatuntil="running" name="SELECTOR" debugbreak="False"><parallel tiebreaker="fail" succeed="all" repeatuntil="" priority="" name="parallel" fail="any" debugbreak="False"><detect sensor="&quot;Vision&quot;" repeatuntil="running" name="ifMalo" matchtype="best" entityobjectvariable="varVisto" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="" aspect="&quot;Malo&quot;"></detect><detect sensor="&quot;Vision&quot;" repeatuntil="running" name="ifPersona" matchtype="best" entityobjectvariable="varPersona" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="" aspect="&quot;Persona&quot;"></detect><constraint repeatuntil="" name="constraint" debugbreak="False" constraint="varVisto != null"><expression returnvalue="evaluate" repeatuntil="" name="variableVisto" expression="variableVisto = varVisto" debugbreak="False"></expression></constraint><selector usepriorities="False" repeatuntil="running" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="VolverAPosicion" debugbreak="False" constraint="varVisto == null &amp;&amp; tieneBalas == true"><sequencer usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><action repeatuntil="" priority="" parametervalues="" parameters="" namespace="" name="CambioColorGreen" debugbreak="False" classname="CA_Guardia_CambiarColor_naranja"></action><parallel tiebreaker="fail" succeed="all" repeatuntil="" priority="" name="parallel" fail="any" debugbreak="False"><move turnspeed="" repeatuntil="" name="move" movetarget="PosicionOriginal" movespeed="" facetarget="" debugbreak="False" closeenoughdistance="1" closeenoughangle=""></move><mecparam valueexpression="4" repeatuntil="" parametertype="float" parametername="AnimSpeed" name="mecparam" debugbreak="False" damptime="0"></mecparam></parallel><sequencer usepriorities="False" repeatuntil="" priority="" name="Sequencer" debugbreak="False"><mecparam valueexpression="0" repeatuntil="" priority="" parametertype="float" parametername="AnimSpeed" name="mecparam" debugbreak="False" damptime="0"></mecparam><move turnspeed="" repeatuntil="" priority="" name="move" movetarget="" movespeed="" facetarget="RotacionOriginal" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move><timer waitforsec="3" returnvalue="success" priority="" name="timer" debugbreak="False"></timer><expression returnvalue="evaluate" repeatuntil="" priority="" name="expression" expression="tieneBalas = true" debugbreak="False"></expression></sequencer></sequencer></constraint><constraint repeatuntil="" priority="" name="DesactivarAlarma" debugbreak="False" constraint="varPersona == null"><action repeatuntil="" parametervalues="" parameters="" namespace="" name="CambioColorVerde" debugbreak="False" classname="CA_Guardia_CambiarColor_naranja"></action></constraint><constraint repeatuntil="" priority="" name="Alarma" debugbreak="False" constraint="varVisto == null &amp;&amp; varPersona != null"><action repeatuntil="" parametervalues="" parameters="" namespace="" name="CambioColorNaranja" debugbreak="False" classname="CA_Guardia_CambiarColor_naranja"></action><move turnspeed="" repeatuntil="" name="move" movetarget="" movespeed="" facetarget="varPersona" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move></constraint><constraint repeatuntil="" priority="" name="Malo" debugbreak="False" constraint="varVisto != null "><parallel tiebreaker="fail" succeed="all" repeatuntil="" name="parallel" fail="any" debugbreak="False"><action repeatuntil="" parametervalues="" parameters="" namespace="(global)" name="CambioColorRojo" debugbreak="False" classname="CA_Guardia_CambiarColor_rojo"></action><detect sensor="&quot;Disparo&quot;" repeatuntil="" name="Disparo" matchtype="best" entityobjectvariable="varDisparo" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="" aspect="&quot;Malo&quot;"></detect><selector usepriorities="False" repeatuntil="running" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="Acercarse" debugbreak="False" constraint="varDisparo == null &amp;&amp; tieneBalas == true "><parallel tiebreaker="fail" succeed="all" repeatuntil="" name="parallel" fail="any" debugbreak="False"><move turnspeed="" repeatuntil="" name="move" movetarget="varVisto" movespeed="" facetarget="" debugbreak="False" closeenoughdistance="1" closeenoughangle=""></move><mecparam valueexpression="4" repeatuntil="" parametertype="float" parametername="AnimSpeed" name="mecparam" debugbreak="False" damptime="0"></mecparam></parallel></constraint><constraint repeatuntil="" priority="" name="Disparar" debugbreak="False" constraint="varDisparo != null &amp;&amp; tieneBalas == true &amp;&amp; tieneBalas == true"><sequencer usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><mecparam valueexpression="True" repeatuntil="" priority="" parametertype="trigger" parametername="Shoot" name="mecparam" debugbreak="False" damptime="0"></mecparam><parallel tiebreaker="fail" succeed="all" repeatuntil="" priority="" name="parallel" fail="any" debugbreak="False"><move turnspeed="" repeatuntil="" name="move" movetarget="" movespeed="" facetarget="varDisparo" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move><timer waitforsec="1" returnvalue="success" name="timer" debugbreak="False"></timer></parallel><action repeatuntil="" priority="" parametervalues="" parameters="" namespace="(global)" name="ActivateRagdoll" debugbreak="False" classname="ActivateRagdoll"></action><action repeatuntil="" priority="" parametervalues="" parameters="" namespace="(global)" name="changePosition" debugbreak="False" classname="changePosition"></action><timer waitforsec="1.5" returnvalue="success" priority="" name="timer" debugbreak="False"></timer><expression returnvalue="evaluate" repeatuntil="" priority="" name="expression" expression="tieneBalas = false" debugbreak="False"></expression></sequencer></constraint><constraint repeatuntil="" priority="" name="Coger" debugbreak="False" constraint="varDisparo != null &amp;&amp; tieneBalas == false"><parallel tiebreaker="fail" succeed="all" repeatuntil="" name="root" fail="any" debugbreak="False"><detect sensor="&quot;Close&quot;" repeatuntil="running" name="ifclose" matchtype="any" entityobjectvariable="objective" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="" aspect="&quot;Malo&quot;"></detect><selector usepriorities="False" repeatuntil="running" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="notClose" debugbreak="False" constraint="objective == null &amp;&amp; pickingup == false"><parallel tiebreaker="fail" succeed="all" repeatuntil="" name="parallel" fail="any" debugbreak="False"><move turnspeed="" repeatuntil="" name="move" movetarget="varDisparo" movespeed="" facetarget="" debugbreak="False" closeenoughdistance="0" closeenoughangle=""></move><mecparam valueexpression="4" repeatuntil="" parametertype="float" parametername="AnimSpeed" name="mecparam" debugbreak="False" damptime="0"></mecparam></parallel></constraint><constraint repeatuntil="" priority="" name="Close" debugbreak="False" constraint="objective != null &amp;&amp; pickingup == false"><sequencer usepriorities="False" repeatuntil="" name="sequencer" debugbreak="False"><mecparam valueexpression="0" repeatuntil="" priority="" parametertype="float" parametername="AnimSpeed" name="stop" debugbreak="False" damptime="0"></mecparam><mecparam valueexpression="true" repeatuntil="" priority="" parametertype="trigger" parametername="PickUp" name="pcikupanim" debugbreak="False" damptime="0"></mecparam><timer waitforsec="1" returnvalue="success" priority="" name="timer" debugbreak="False"></timer><action repeatuntil="" priority="" parametervalues="" parameters="" namespace="" name="Pickup Script" debugbreak="False" classname="Pickup"></action><expression returnvalue="evaluate" repeatuntil="" priority="" name=" pickingup" expression=" pickingup = true" debugbreak="False"></expression></sequencer></constraint></selector></parallel></constraint></selector></parallel></constraint><constraint repeatuntil="" priority="" name="Garbage" debugbreak="False" constraint="pickingup == true"><sequencer usepriorities="False" repeatuntil="" name="selector" debugbreak="False"><parallel tiebreaker="fail" succeed="all" repeatuntil="" priority="" name="parallel" fail="any" debugbreak="False"><move turnspeed="" repeatuntil="" name="move" movetarget="&quot;basura&quot;" movespeed="" facetarget="" debugbreak="False" closeenoughdistance="1" closeenoughangle=""></move><mecparam valueexpression="4" repeatuntil="" parametertype="float" parametername="AnimSpeed" name="mecparam" debugbreak="False" damptime="0"></mecparam></parallel><mecparam valueexpression="0" repeatuntil="" priority="" parametertype="float" parametername="AnimSpeed" name="mecparam" debugbreak="False" damptime="0"></mecparam><move turnspeed="" repeatuntil="" priority="" name="move" movetarget="" movespeed="" facetarget="&quot;BasuraTarget&quot;" debugbreak="False" closeenoughdistance="" closeenoughangle=""></move><timer waitforsec="2" returnvalue="success" priority="" name="timer" debugbreak="False"></timer><mecparam valueexpression="True" repeatuntil="" priority="" parametertype="trigger" parametername="Throw" name="mecparam" debugbreak="False" damptime="0"></mecparam><action repeatuntil="" priority="" parametervalues="" parameters="" namespace="" name="action" debugbreak="False" classname="CA_easyThrow"></action></sequencer></constraint></selector></parallel></selector></behaviortree>